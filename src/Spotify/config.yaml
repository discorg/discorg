parameters:

    env(SPOTIFY_CLIENT_ID): ''
    env(SPOTIFY_CLIENT_SECRET): ''

    spotify.session.scopes:
        # Library
        - user-library-read
        - user-library-modify
        # Playlists
        - playlist-read-private
        - playlist-modify-public
        - playlist-modify-private
        - playlist-read-collaborative
        # Listening History
        - user-read-recently-played
        - user-top-read
        # Users
        - user-read-private
        - user-read-email
        - user-read-birthdate
        # Spotify Connect
        - user-modify-playback-state
        - user-read-currently-playing
        - user-read-playback-state
        # Follow
        - user-follow-modify
        - user-follow-read

services:

    _defaults:
        autowire: true
        autoconfigure: true
        public: true

    App\User\UserSessionManager: ~
    App\User\InitializableUserSessionManager: '@App\User\UserSessionManager'
    App\User\InitializedUserSessionManager: '@App\User\UserSessionManager'

    App\Spotify\Session\SpotifySessionManager: ~
    App\Spotify\Session\InitializableSpotifySessionManager: '@App\Spotify\Session\SpotifySessionManager'
    App\Spotify\Session\InitializedSpotifySessionManager: '@App\Spotify\Session\SpotifySessionManager'

    App\Spotify\Session\SpotifySessionFactory:
        class: App\Spotify\Session\SpotifySessionFactory
        arguments:
            $clientId: '%env(string:SPOTIFY_CLIENT_ID)%'
            $clientSecret: '%env(string:SPOTIFY_CLIENT_SECRET)%'
            $authorizationScopes: '%spotify.session.scopes%'

    App\Spotify\Api\SpotifyWebApiFactory: ~

    SpotifyWebAPI\SpotifyWebAPI:
        factory: 'App\Spotify\Api\SpotifyWebApiFactory:create'

    App\Spotify\SpotifyUserLibraryFacade: ~
